define(["exports","./Matrix2-ccd5b911","./RuntimeError-346a3079","./when-4bbc8319","./WebGLConstants-1c8239cc","./Transforms-d5c6ad6e"],(function(t,e,a,r,n,i){"use strict";var o=Object.freeze({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3}),s={POINTS:n.WebGLConstants.POINTS,LINES:n.WebGLConstants.LINES,LINE_LOOP:n.WebGLConstants.LINE_LOOP,LINE_STRIP:n.WebGLConstants.LINE_STRIP,TRIANGLES:n.WebGLConstants.TRIANGLES,TRIANGLE_STRIP:n.WebGLConstants.TRIANGLE_STRIP,TRIANGLE_FAN:n.WebGLConstants.TRIANGLE_FAN,validate:function(t){return t===s.POINTS||t===s.LINES||t===s.LINE_LOOP||t===s.LINE_STRIP||t===s.TRIANGLES||t===s.TRIANGLE_STRIP||t===s.TRIANGLE_FAN}},u=Object.freeze(s);function I(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this.attributes=t.attributes,this.indices=t.indices,this.primitiveType=r.defaultValue(t.primitiveType,u.TRIANGLES),this.boundingSphere=t.boundingSphere,this.geometryType=r.defaultValue(t.geometryType,o.NONE),this.boundingSphereCV=t.boundingSphereCV,this.offsetAttribute=t.offsetAttribute}I.computeNumberOfVertices=function(t){var e,a,n=-1;for(e in t.attributes)t.attributes.hasOwnProperty(e)&&r.defined(t.attributes[e])&&r.defined(t.attributes[e].values)&&(n=(a=t.attributes[e]).values.length/a.componentsPerAttribute);return n};var N=new e.Cartographic,T=new e.Cartesian3,c=new e.Matrix4,l=[new e.Cartographic,new e.Cartographic,new e.Cartographic],m=[new e.Cartesian2,new e.Cartesian2,new e.Cartesian2],p=[new e.Cartesian2,new e.Cartesian2,new e.Cartesian2],b=new e.Cartesian3,y=new i.Quaternion,E=new e.Matrix4,L=new e.Matrix2;I._textureCoordinateRotationPoints=function(t,a,r,n){var o=e.Rectangle.center(n,N),s=e.Cartographic.toCartesian(o,r,T),u=(o=i.Transforms.eastNorthUpToFixedFrame(s,r,c),e.Matrix4.inverse(o,c)),I=m,h=l;h[0].longitude=n.west,h[0].latitude=n.south,h[1].longitude=n.west,h[1].latitude=n.north,h[2].longitude=n.east,h[2].latitude=n.south;for(var C=b,f=0;f<3;f++)e.Cartographic.toCartesian(h[f],r,C),C=e.Matrix4.multiplyByPointAsVector(u,C,C),I[f].x=C.x,I[f].y=C.y;s=i.Quaternion.fromAxisAngle(e.Cartesian3.UNIT_Z,-a,y);var d=e.Matrix3.fromQuaternion(s,E),x=t.length,A=Number.POSITIVE_INFINITY,P=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY;for(f=0;f<x;f++)C=e.Matrix4.multiplyByPointAsVector(u,t[f],C),C=e.Matrix3.multiplyByVector(d,C,C),A=Math.min(A,C.x),P=Math.min(P,C.y),S=Math.max(S,C.x),G=Math.max(G,C.y);var w=e.Matrix2.fromRotation(a,L),R=p;R[0].x=A,R[0].y=P,R[1].x=A,R[1].y=G,R[2].x=S,R[2].y=P;var O=I[0],_=I[2].x-O.x,g=I[1].y-O.y;for(f=0;f<3;f++){var v=R[f];e.Matrix2.multiplyByVector(w,v,v),v.x=(v.x-O.x)/_,v.y=(v.y-O.y)/g}return o=R[0],n=R[1],s=R[2],a=new Array(6),e.Cartesian2.pack(o,a),e.Cartesian2.pack(n,a,2),e.Cartesian2.pack(s,a,4),a},t.Geometry=I,t.GeometryAttribute=function(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this.componentDatatype=t.componentDatatype,this.componentsPerAttribute=t.componentsPerAttribute,this.normalize=r.defaultValue(t.normalize,!1),this.values=t.values},t.GeometryType=o,t.PrimitiveType=u}));